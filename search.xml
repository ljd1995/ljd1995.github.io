<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>M1 MAC安装ubuntu系统的另一个选择-Multipass</title>
      <link href="/post/510972a/"/>
      <url>/post/510972a/</url>
      
        <content type="html"><![CDATA[<div class="note primary modern"><p>缘起</p></div><p>今年Apple发布了新款搭载M1 Pro和M1 Max芯片的Macbook Pro，看着那屏幕甚是喜欢，性能也是爆炸。由于自己用了快2年的豆子峡谷黑苹果，貌似是CPU硅脂没了，温度动不动100℃，导致系统自动死机或重启，于是果断换成了丐版标配的M1 Pro Macbook。别说，新版Mac真的香!</p><p>由于M1芯片基于ARM，所以一些软件或虚拟机都得搞成ARM的，试过Parallels Desktop,搞起来不是很方便，巧合的突然想起以前下载Ubuntu server镜像时看到Multipass工具，它可以快速的初始化一个Linux系统，于是搜索了下发现Multipass工具已支持ARM运行Linux。so,开干！</p><div class="note info modern"><p>Multipass官网介绍</p></div><p><a href="https://github.com/canonical/multipass">Multipass</a> is a lightweight VM manager for Linux, Windows and macOS. It’s designed for developers who want a fresh Ubuntu environment with a single command. It uses KVM on Linux, Hyper-V on Windows and HyperKit on macOS to run the VM with minimal overhead. It can also use VirtualBox on Windows and macOS. Multipass will fetch images for you and keep them up to date.</p><p>Since it supports metadata for cloud-init, you can simulate a small cloud deployment on your laptop or workstation.</p><p>简单点说，该工具是一个虚拟机管理器，它在 Linux 上使用 KVM，在 Windows 上使用 Hyper-V，在 macOS 上使用 HyperKit 以最小的开销运行 VM，有点类似Docker</p><div class="note success modern"><p>安装</p></div><p><strong>Linux</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snap install multipass</span><br></pre></td></tr></table></figure><p><strong>Mac</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask multipass</span><br></pre></td></tr></table></figure><div class="note default modern"><p>使用</p></div><blockquote><p>快速启动一个VM</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass launch --name <span class="built_in">test</span></span><br></pre></td></tr></table></figure><blockquote><p>具体配置内存、CPU、磁盘、系统版本来启动VM</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass launch -n <span class="built_in">test</span>  -c 2 -m 2G -d 20G 20.04</span><br></pre></td></tr></table></figure><blockquote><p>查看multipass具体支持什么系统</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ multipass find</span><br><span class="line">Image                       Aliases           Version          Description</span><br><span class="line">18.04                       bionic            20211122         Ubuntu 18.04 LTS</span><br><span class="line">20.04                       focal,lts         20211118         Ubuntu 20.04 LTS</span><br><span class="line">21.04                       hirsute           20211119         Ubuntu 21.04</span><br><span class="line">21.10                       impish            20211103         Ubuntu 21.10</span><br><span class="line">anbox-cloud-appliance                         latest           Anbox Cloud Appliance</span><br><span class="line">minikube                                      latest           minikube is <span class="built_in">local</span> Kubernetes</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这里可以看到multipass还能安装minikube,这样来说快速初始化一个K8s单机实例是如此简单</p><blockquote><p>查看启动的虚拟机列表</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ multipass list</span><br><span class="line">Name                    State             IPv4             Image</span><br><span class="line"><span class="built_in">test</span>                    Running           192.168.64.2     Ubuntu 20.04 LTS</span><br></pre></td></tr></table></figure><blockquote><p>查看某个虚拟机具体信息</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ multipass info <span class="built_in">test</span></span><br><span class="line">Name:           <span class="built_in">test</span></span><br><span class="line">State:          Running</span><br><span class="line">IPv4:           192.168.64.2</span><br><span class="line">Release:        Ubuntu 20.04.3 LTS</span><br><span class="line">Image <span class="built_in">hash</span>:     e9271036efcd (Ubuntu 20.04 LTS)</span><br><span class="line">Load:           0.00 0.00 0.00</span><br><span class="line">Disk usage:     1.2G out of 19.2G</span><br><span class="line">Memory usage:   154.8M out of 1.9G</span><br><span class="line">Mounts:         --</span><br></pre></td></tr></table></figure><blockquote><p>外部执行虚拟机内部命令</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ multipass <span class="built_in">exec</span> <span class="built_in">test</span> -- df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">udev            957M     0  957M   0% /dev</span><br><span class="line">tmpfs           198M  1.1M  197M   1% /run</span><br><span class="line">/dev/sda1        20G  1.3G   18G   7% /</span><br><span class="line">tmpfs           990M     0  990M   0% /dev/shm</span><br><span class="line">tmpfs           5.0M     0  5.0M   0% /run/lock</span><br><span class="line">tmpfs           990M     0  990M   0% /sys/fs/cgroup</span><br><span class="line">/dev/loop0       58M   58M     0 100% /snap/core20/1244</span><br><span class="line">/dev/sda15       98M  290K   98M   1% /boot/efi</span><br><span class="line">/dev/loop1       61M   61M     0 100% /snap/lxd/21843</span><br><span class="line">/dev/loop2       29M   29M     0 100% /snap/snapd/13643</span><br><span class="line">tmpfs           198M     0  198M   0% /run/user/1000</span><br></pre></td></tr></table></figure><p>看，这语法是不是很像k8s kubectl连接pod语法</p><blockquote><p>连接到正在运行的实例‎</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$ multipass shell <span class="built_in">test</span></span><br><span class="line">Welcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.4.0-90-generic aarch64)</span><br><span class="line"></span><br><span class="line"> * Documentation:  https://help.ubuntu.com</span><br><span class="line"> * Management:     https://landscape.canonical.com</span><br><span class="line"> * Support:        https://ubuntu.com/advantage</span><br><span class="line"></span><br><span class="line">  System information as of Tue Nov 23 15:32:09 CST 2021</span><br><span class="line"></span><br><span class="line">  System load:             0.0</span><br><span class="line">  Usage of /:              6.4% of 19.22GB</span><br><span class="line">  Memory usage:            10%</span><br><span class="line">  Swap usage:              0%</span><br><span class="line">  Processes:               112</span><br><span class="line">  Users logged <span class="keyword">in</span>:         0</span><br><span class="line">  IPv4 address <span class="keyword">for</span> enp0s1: 192.168.64.2</span><br><span class="line">  IPv6 address <span class="keyword">for</span> enp0s1: fd0a:c754:c0d:703c:5054:ff:febd:2caa</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">0 updates can be applied immediately.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Last login: Tue Nov 23 15:29:51 2021 from 192.168.64.1</span><br><span class="line">ubuntu@<span class="built_in">test</span>:~$</span><br></pre></td></tr></table></figure><blockquote><p>停止VM</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass stop <span class="built_in">test</span></span><br></pre></td></tr></table></figure><blockquote><p>启动VM</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass start <span class="built_in">test</span></span><br></pre></td></tr></table></figure><blockquote><p>删除VM(只是进入DELETED状态)</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass delete <span class="built_in">test</span></span><br></pre></td></tr></table></figure><blockquote><p>完全删除VM</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass purge</span><br></pre></td></tr></table></figure><blockquote><p>更多语法</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">$ multipass <span class="built_in">help</span></span><br><span class="line">Usage: multipass [options] &lt;<span class="built_in">command</span>&gt;</span><br><span class="line">Create, control and connect to Ubuntu instances.</span><br><span class="line"></span><br><span class="line">This is a <span class="built_in">command</span> line utility <span class="keyword">for</span> multipass, a</span><br><span class="line">service that manages Ubuntu instances.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -h, --<span class="built_in">help</span>     Displays <span class="built_in">help</span> on commandline options.</span><br><span class="line">  --help-all     Displays <span class="built_in">help</span> including Qt specific options.</span><br><span class="line">  -v, --verbose  Increase logging verbosity. Repeat the <span class="string">&#x27;v&#x27;</span> <span class="keyword">in</span> the short option</span><br><span class="line">                 <span class="keyword">for</span> more detail. Maximum verbosity is obtained with 4 (or more)</span><br><span class="line">                 v<span class="string">&#x27;s, i.e. -vvvv.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Available commands:</span></span><br><span class="line"><span class="string">  alias     Create an alias</span></span><br><span class="line"><span class="string">  aliases   List available aliases</span></span><br><span class="line"><span class="string">  delete    Delete instances</span></span><br><span class="line"><span class="string">  exec      Run a command on an instance</span></span><br><span class="line"><span class="string">  find      Display available images to create instances from</span></span><br><span class="line"><span class="string">  get       Get a configuration setting</span></span><br><span class="line"><span class="string">  help      Display help about a command</span></span><br><span class="line"><span class="string">  info      Display information about instances</span></span><br><span class="line"><span class="string">  launch    Create and start an Ubuntu instance</span></span><br><span class="line"><span class="string">  list      List all available instances</span></span><br><span class="line"><span class="string">  mount     Mount a local directory in the instance</span></span><br><span class="line"><span class="string">  networks  List available network interfaces</span></span><br><span class="line"><span class="string">  purge     Purge all deleted instances permanently</span></span><br><span class="line"><span class="string">  recover   Recover deleted instances</span></span><br><span class="line"><span class="string">  restart   Restart instances</span></span><br><span class="line"><span class="string">  set       Set a configuration setting</span></span><br><span class="line"><span class="string">  shell     Open a shell on a running instance</span></span><br><span class="line"><span class="string">  start     Start instances</span></span><br><span class="line"><span class="string">  stop      Stop running instances</span></span><br><span class="line"><span class="string">  suspend   Suspend running instances</span></span><br><span class="line"><span class="string">  transfer  Transfer files between the host and instances</span></span><br><span class="line"><span class="string">  umount    Unmount a directory from an instance</span></span><br><span class="line"><span class="string">  unalias   Remove an alias</span></span><br><span class="line"><span class="string">  version   Show version details</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">$ multipass launch -h</span><br><span class="line">Usage: multipass launch [options] [[&lt;remote:&gt;]&lt;image&gt; | &lt;url&gt;]</span><br><span class="line">Create and start a new instance.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -h, --<span class="built_in">help</span>           Displays <span class="built_in">help</span> on commandline options.</span><br><span class="line">  --help-all           Displays <span class="built_in">help</span> including Qt specific options.</span><br><span class="line">  -v, --verbose        Increase logging verbosity. Repeat the <span class="string">&#x27;v&#x27;</span> <span class="keyword">in</span> the short</span><br><span class="line">                       option <span class="keyword">for</span> more detail. Maximum verbosity is obtained</span><br><span class="line">                       with 4 (or more) v<span class="string">&#x27;s, i.e. -vvvv.</span></span><br><span class="line"><span class="string">  -c, --cpus &lt;cpus&gt;    Number of CPUs to allocate.</span></span><br><span class="line"><span class="string">                       Minimum: 1, default: 1.</span></span><br><span class="line"><span class="string">  -d, --disk &lt;disk&gt;    Disk space to allocate. Positive integers, in bytes, or</span></span><br><span class="line"><span class="string">                       with K, M, G suffix.</span></span><br><span class="line"><span class="string">                       Minimum: 512M, default: 5G.</span></span><br><span class="line"><span class="string">  -m, --mem &lt;mem&gt;      Amount of memory to allocate. Positive integers, in</span></span><br><span class="line"><span class="string">                       bytes, or with K, M, G suffix.</span></span><br><span class="line"><span class="string">                       Minimum: 128M, default: 1G.</span></span><br><span class="line"><span class="string">  -n, --name &lt;name&gt;    Name for the instance. If it is &#x27;</span>primary<span class="string">&#x27; (the</span></span><br><span class="line"><span class="string">                       configured primary instance name), the user&#x27;</span>s home</span><br><span class="line">                       directory is mounted inside the newly launched instance,</span><br><span class="line">                       <span class="keyword">in</span> <span class="string">&#x27;Home&#x27;</span>.</span><br><span class="line">  --cloud-init &lt;file&gt;  Path to a user-data cloud-init configuration, or <span class="string">&#x27;-&#x27;</span> <span class="keyword">for</span></span><br><span class="line">                       stdin</span><br><span class="line">  --network &lt;spec&gt;     Add a network interface to the instance, <span class="built_in">where</span> &lt;spec&gt; is</span><br><span class="line">                       <span class="keyword">in</span> the <span class="string">&quot;key=value,key=value&quot;</span> format, with the following</span><br><span class="line">                       keys available:</span><br><span class="line">                        name: the network to connect to (required), use the</span><br><span class="line">                       networks <span class="built_in">command</span> <span class="keyword">for</span> a list of possible values, or use</span><br><span class="line">                       <span class="string">&#x27;bridged&#x27;</span> to use the interface configured via `multipass</span><br><span class="line">                       <span class="built_in">set</span> local.bridged-network`.</span><br><span class="line">                        mode: auto|manual (default: auto)</span><br><span class="line">                        mac: hardware address (default: random).</span><br><span class="line">                       You can also use a shortcut of <span class="string">&quot;&lt;name&gt;&quot;</span> to mean</span><br><span class="line">                       <span class="string">&quot;name=&lt;name&gt;&quot;</span>.</span><br><span class="line">  --bridged            Adds one `--network bridged` network.</span><br><span class="line">  --timeout &lt;timeout&gt;  Maximum time, <span class="keyword">in</span> seconds, to <span class="built_in">wait</span> <span class="keyword">for</span> the <span class="built_in">command</span> to</span><br><span class="line">                       complete. Note that some background operations may</span><br><span class="line">                       <span class="built_in">continue</span> beyond that. By default, instance startup and</span><br><span class="line">                       initialization is limited to 5 minutes each.</span><br><span class="line"></span><br><span class="line">Arguments:</span><br><span class="line">  image                Optional image to launch. If omitted, <span class="keyword">then</span> the default</span><br><span class="line">                       Ubuntu LTS will be used.</span><br><span class="line">                       &lt;remote&gt; can be either ‘release’ or ‘daily‘. If &lt;remote&gt;</span><br><span class="line">                       is omitted, ‘release’ will be used.</span><br><span class="line">                       &lt;image&gt; can be a partial image <span class="built_in">hash</span> or an Ubuntu release</span><br><span class="line">                       version, codename or <span class="built_in">alias</span>.</span><br><span class="line">                       &lt;url&gt; is a custom image URL that is <span class="keyword">in</span> http://, https://,</span><br><span class="line">                       or file:// format.</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note warning modern"><p>拓展</p></div><blockquote><p>SSH连接multipass启动的VM</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">multipass shell <span class="built_in">test</span></span><br><span class="line">sudo -i <span class="comment"># 切到root用户</span></span><br><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line">将PasswordAuthentication no修改为</span><br><span class="line">PasswordAuthentication yes</span><br><span class="line">将PermitRootLogin prohibit-password修改为</span><br><span class="line">PermitRootLogin yes</span><br><span class="line">重启ssh</span><br><span class="line">service ssh restart</span><br><span class="line">现在就可以愉快的ssh登录了</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>模拟saltstack/ansible系列一（序言）</title>
      <link href="/post/e4dbd1fc/"/>
      <url>/post/e4dbd1fc/</url>
      
        <content type="html"><![CDATA[<h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><h3 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h3><ul><li>做过运维的同学应该都知道，<mark class="hl-label blue">saltstack</mark> 和<mark class="hl-label green">ansible</mark> 都是运维常用的自动化工具，可以用来做批量系统配置、批量程序部署、批量运行命令等功能</li><li>本教程将分析saltstack和ansible的核心功能实现，然后自己用<mark class="hl-label pink">Python</mark> 实现一个类似saltstack和ansible的项目</li></ul><h3 id="saltstack、ansible原理"><a href="#saltstack、ansible原理" class="headerlink" title="saltstack、ansible原理"></a>saltstack、ansible原理</h3><blockquote><p>ansible</p></blockquote><ul><li>无Agent架构，基于SSH</li><li>ansible playbook可以按任务对批量主机编排</li><li>Python语言开发</li></ul><blockquote><p>saltstack</p></blockquote><ul><li>Agent架构，基于长连接</li><li>可以通过state文件来对批量主机编排</li><li>Python语言开发</li></ul><h2 id="自己如何开发一个实现ansible和saltstack基本功能的程序？"><a href="#自己如何开发一个实现ansible和saltstack基本功能的程序？" class="headerlink" title="自己如何开发一个实现ansible和saltstack基本功能的程序？"></a>自己如何开发一个实现ansible和saltstack基本功能的程序？</h2><h3 id="具体实现功能"><a href="#具体实现功能" class="headerlink" title="具体实现功能"></a>具体实现功能</h3><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>主机连接模式</p>            </div><ul><li>SSH连接模式</li><li>C/S模式</li><li>websocket长连接模式</li></ul><div class='checkbox red checked'><input type="checkbox" checked="checked"/>            <p>Ad-hoc</p>            </div><ul><li>ping功能</li><li>执行命令功能</li><li>copy文件功能</li><li>fetch文件功能</li></ul><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>模拟playbook、state文件执行</p>            </div><ul><li>YAML读取</li><li>模板文件读取与配置</li><li>根据配置执行方法</li></ul><div class='checkbox pink checked'><input type="checkbox" checked="checked"/>            <p>模拟ansible和saltstack命令行参数功能</p>            </div><h3 id="开发语言"><a href="#开发语言" class="headerlink" title="开发语言"></a>开发语言</h3><p>Python（也可以用Go，主要是本人部门主用Python）</p><h3 id="使用的Python模块"><a href="#使用的Python模块" class="headerlink" title="使用的Python模块"></a>使用的Python模块</h3><ul><li>paramiko: SSH连接、SFTP上传下载文件、执行命令</li><li>ruamel/PyYaml: 解析YAML配置文件</li><li>jinja2: 模板引擎</li><li>click： 命令行模块</li><li>flask/sanic: web框架，agent使用</li><li>geventwebsocket： websocket服务端</li><li>websocket： websocket客户端</li><li>redis: 作为MQ，也可以用其他MQ</li><li>colorama：终端输入颜色字体</li><li>requests/httpx: http请求框架</li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
          <category> 分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> devops </tag>
            
            <tag> linux </tag>
            
            <tag> 运维 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客撰写计划</title>
      <link href="/post/50c5b9ad/"/>
      <url>/post/50c5b9ad/</url>
      
        <content type="html"><![CDATA[<div class="note primary flat"><p>运维管理平台项目</p></div><div class='checkbox'><input type="checkbox" />            <p>CMDB</p>            </div><div class='checkbox'><input type="checkbox" />            <p>WEBSSH</p>            </div><div class='checkbox'><input type="checkbox" />            <p>任务管理</p>            </div><div class='checkbox'><input type="checkbox" />            <p>发布部署</p>            </div><div class='checkbox'><input type="checkbox" />            <p>操作日志</p>            </div><div class='checkbox'><input type="checkbox" />            <p>权限管理</p>            </div><div class='checkbox'><input type="checkbox" />            <p>用户管理</p>            </div><div class="note info flat"><p>模拟K8s管理系统</p></div><div class='checkbox'><input type="checkbox" />            <p>docker管理</p>            </div><div class='checkbox'><input type="checkbox" />            <p>容器调度</p>            </div><div class='checkbox'><input type="checkbox" />            <p>容器编排</p>            </div><div class="note success flat"><p>模拟salt/Ansible</p></div><div class='checkbox'><input type="checkbox" />            <p>SSH形式、C/S模式、websocket长连接模式</p>            </div><div class='checkbox'><input type="checkbox" />            <p>Ad-hoc</p>            </div><div class='checkbox'><input type="checkbox" />            <p>playbook</p>            </div><div class="note warning flat"><p>分布式监控系统</p></div><div class='checkbox'><input type="checkbox" />            <p>模仿zabbix、open-falcon、promethus等</p>            </div>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
          <category> 分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> go </tag>
            
            <tag> devops </tag>
            
            <tag> linux </tag>
            
            <tag> 运维 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/post/4a17b156/"/>
      <url>/post/4a17b156/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post221&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
